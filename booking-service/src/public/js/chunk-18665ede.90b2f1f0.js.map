{"version":3,"sources":["webpack:///./src/views/Schedule1.vue?8859","webpack:///src/views/Schedule1.vue","webpack:///./src/views/Schedule1.vue?d742","webpack:///./src/views/Schedule1.vue","webpack:///./src/views/Schedule1.vue?32ae"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$t","attrs","invalid","building_id","model","value","editObj","callback","$$v","$set","expression","_l","item","index","key","building_name","_e","room_id","room_name","ref","on","$event","search","date","source","resources","appointmentDataFields","views","editDialogOpen","staticRenderFns","components","JqxScheduler","data","rerender","submitted","buildings","rooms","jqx","dataAdapter","colorScheme","dataField","from","to","id","description","location","subject","resourceId","background","beforeCreate","computed","require","isInvalid","mounted","appointments","Array","schedule","methods","serperateDate","year","month","day","hour","minute","second","Date","$nextTick","dataType","dataFields","localData","watch","component"],"mappings":"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","file":"js/chunk-18665ede.90b2f1f0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"w-full mb-base\"},[_c('vx-card',[_c('h6',[_vm._v(_vm._s(_vm.$t(\"Activity Of Each Room\")))]),_c('div',{staticClass:\"vx-row mb-10\"},[_c('div',{staticClass:\"vx-col md:w-1/3 mt-6\"},[_c('label',[_vm._v(_vm._s(_vm.$t(\"Building\")))]),_c('vs-select',{staticClass:\"w-full\",attrs:{\"danger\":_vm.invalid.building_id},model:{value:(_vm.editObj.building_id),callback:function ($$v) {_vm.$set(_vm.editObj, \"building_id\", $$v)},expression:\"editObj.building_id\"}},_vm._l((_vm.buildings),function(item,index){return _c('vs-select-item',{key:index,attrs:{\"value\":item.building_id,\"text\":_vm.$t(item.building_name)}})}),1),(_vm.invalid.building_id)?_c('div',{staticClass:\"errors\"},[_vm._v(_vm._s(_vm.$t(\"please select the buildign\")))]):_vm._e()],1),_c('div',{staticClass:\"vx-col md:w-1/3 mt-6\"},[_c('label',[_vm._v(_vm._s(_vm.$t(\"room\")))]),_c('vs-select',{staticClass:\"w-full\",attrs:{\"danger\":_vm.invalid.room_id},model:{value:(_vm.editObj.room_id),callback:function ($$v) {_vm.$set(_vm.editObj, \"room_id\", $$v)},expression:\"editObj.room_id\"}},_vm._l((_vm.rooms),function(item,index){return _c('vs-select-item',{key:index,attrs:{\"value\":item.room_id,\"text\":_vm.$t(item.room_name)}})}),1),(_vm.invalid.room_id)?_c('div',{staticClass:\"errors\"},[_vm._v(_vm._s(_vm.$t(\"please select the room_id\")))]):_vm._e()],1),_c('div',{staticClass:\"vx-col md:w-1/3 mt-6\"},[_c('vs-button',{ref:\"loadableButton\",staticClass:\"vs-con-loading__container mt-5\",attrs:{\"id\":\"button-with-loading\",\"vslor\":\"primary\"},on:{\"click\":function($event){return _vm.search()}}},[_vm._v(_vm._s(_vm.$t(\"search\")))])],1)]),(_vm.rerender)?_c('JqxScheduler',{ref:\"myScheduler\",attrs:{\"date\":_vm.date,\"width\":\"100%\",\"source\":_vm.source,\"view\":'weekView',\"showLegend\":true,\"resources\":_vm.resources,\"appointmentDataFields\":_vm.appointmentDataFields,\"views\":_vm.views,\"editDialogOpen\":_vm.editDialogOpen,\"disabled\":false,\"theme\":'material'}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"w-full mb-base\">\r\n    <vx-card>\r\n      <h6>{{ $t(\"Activity Of Each Room\") }}</h6>\r\n      <div class=\"vx-row mb-10\">\r\n        <div class=\"vx-col md:w-1/3 mt-6\">\r\n          <label>{{ $t(\"Building\") }}</label>\r\n          <vs-select class=\"w-full\" v-model=\"editObj.building_id\" :danger=\"invalid.building_id\">\r\n            <vs-select-item\r\n              :key=\"index\"\r\n              :value=\"item.building_id\"\r\n              :text=\"$t(item.building_name)\"\r\n              v-for=\"(item, index) in buildings\"\r\n            />\r\n          </vs-select>\r\n          <div class=\"errors\" v-if=\"invalid.building_id\">{{ $t(\"please select the buildign\") }}</div>\r\n        </div>\r\n        <div class=\"vx-col md:w-1/3 mt-6\">\r\n          <label>{{ $t(\"room\") }}</label>\r\n          <vs-select class=\"w-full\" v-model=\"editObj.room_id\" :danger=\"invalid.room_id\">\r\n            <vs-select-item\r\n              :key=\"index\"\r\n              :value=\"item.room_id\"\r\n              :text=\"$t(item.room_name)\"\r\n              v-for=\"(item, index) in rooms\"\r\n            />\r\n          </vs-select>\r\n          <div class=\"errors\" v-if=\"invalid.room_id\">{{ $t(\"please select the room_id\") }}</div>\r\n        </div>\r\n        <div class=\"vx-col md:w-1/3 mt-6\">\r\n          <vs-button\r\n            ref=\"loadableButton\"\r\n            id=\"button-with-loading\"\r\n            class=\"vs-con-loading__container mt-5\"\r\n            vslor=\"primary\"\r\n            @click=\"search()\"\r\n          >{{ $t(\"search\") }}</vs-button>\r\n        </div>\r\n      </div>\r\n      <JqxScheduler\r\n        v-if=\"rerender\"\r\n        ref=\"myScheduler\"\r\n        :date=\"date\"\r\n        width=\"100%\"\r\n        :source=\"source\"\r\n        :view=\"'weekView'\"\r\n        :showLegend=\"true\"\r\n        :resources=\"resources\"\r\n        :appointmentDataFields=\"appointmentDataFields\"\r\n        :views=\"views\"\r\n        :editDialogOpen=\"editDialogOpen\"\r\n        :disabled=\"false\"\r\n        :theme=\"'material'\"\r\n      />\r\n    </vx-card>\r\n  </div>\r\n</template>\r\n<style scoped>\r\n.jqx-fill-state-disabled {\r\n  cursor: default;\r\n  color: #000;\r\n  opacity: 1;\r\n  filter: Alpha(Opacity=45);\r\n}\r\n</style>\r\n<script>\r\nimport JqxScheduler from \"jqwidgets-scripts/jqwidgets-vue/vue_jqxscheduler.vue\";\r\nimport service from \"@/service/service\";\r\nimport { async } from \"q\";\r\nimport moment from \"moment\";\r\nexport default {\r\n  components: {\r\n    JqxScheduler\r\n  },\r\n  data: function() {\r\n    return {\r\n      rerender: false,\r\n      submitted: false,\r\n      editObj: { building_id: \"\", room_id: \"\" },\r\n      buildings: [],\r\n      rooms: [],\r\n      date: new jqx.date(),\r\n      source: new jqx.dataAdapter(this.source),\r\n      resources: {\r\n        colorScheme: \"scheme05\",\r\n        dataField: \"calendar\",\r\n        source: new jqx.dataAdapter(this.source)\r\n      },\r\n      appointmentDataFields: {\r\n        from: \"start\",\r\n        to: \"end\",\r\n        id: \"id\",\r\n        description: \"description\",\r\n        location: \"place\",\r\n        subject: \"subject\",\r\n        resourceId: \"calendar\",\r\n        background: \"background\"\r\n      },\r\n      views: [\"dayView\", \"weekView\", \"monthView\", \"agendaView\"]\r\n    };\r\n  },\r\n  beforeCreate: async function() {\r\n    this.editObj = { building_id: \"\", room_id: \"\" };\r\n    var appointments = new Array();\r\n\r\n    this.source = {\r\n      dataType: \"array\",\r\n      dataFields: [\r\n        { name: \"id\", type: \"string\" },\r\n        { name: \"description\", type: \"string\" },\r\n        { name: \"location\", type: \"string\" },\r\n        { name: \"subject\", type: \"string\" },\r\n        { name: \"calendar\", type: \"string\" },\r\n        { name: \"start\", type: \"date\" },\r\n        { name: \"end\", type: \"date\" },\r\n        { name: \"background\", type: \"string\" }\r\n      ],\r\n      id: \"id\",\r\n      localData: appointments\r\n    };\r\n  },\r\n  async created() {\r\n    var result = await service.postData(\"building/getBuilding\", {});\r\n    this.buildings = result.data;\r\n  },\r\n  computed: {\r\n    invalid() {\r\n      var require = x => this.editObj[x] == \"\" && this.submitted;\r\n      return {\r\n        building_id: require(\"building_id\"),\r\n        room_id: require(\"room_id\")\r\n      };\r\n    },\r\n    isInvalid() {\r\n      return this.invalid.building_id || this.invalid.room_id;\r\n    }\r\n  },\r\n  mounted: function() {\r\n    var appointments = new Array();\r\n    this.schedule(appointments);\r\n  },\r\n  methods: {\r\n    editDialogOpen: function(dialog, fields, editAppointment) {\r\n      // this.$refs.myScheduler(\"closeDialog\");\r\n    },\r\n    serperateDate(date) {\r\n      var year = moment(date, \"YYYY-MM-DD HH:mm:ss\").years();\r\n      var month = moment(date, \"YYYY-MM-DD HH:mm:ss\").months();\r\n      var day = moment(date, \"YYYY-MM-DD HH:mm:ss\").dates();\r\n      var hour = moment(date, \"YYYY-MM-DD HH:mm:ss\").hours();\r\n      var minute = moment(date, \"YYYY-MM-DD HH:mm:ss\").minutes();\r\n      var second = moment(date, \"YYYY-MM-DD HH:mm:ss\").seconds();\r\n      return new Date(year, month, day, hour, minute, second);\r\n    },\r\n    async search() {\r\n      this.submitted = true;\r\n      if (!this.isInvalid) {\r\n        var respose = await service.postData(\"get_room_booking\", this.editObj);\r\n        var bookings = respose.data;\r\n        var appointments = new Array();\r\n        bookings.forEach(data => {\r\n          // var { year, month, day, hour, minute, second } = this.serperateDate(\r\n          //   data.start_date\r\n          // );\r\n          // var start_date = new Date(year, month, day, hour, minute, second);\r\n          // var end = this.serperateDate(\r\n          //   data.end_date\r\n          // );\r\n          // var end_date = new Date(year, month, day, hour, minute, second);\r\n          appointments.push({\r\n            id: \"id3\",\r\n            subject:\r\n              data.first_name + \" \" + data.last_name + \" : \" + data.subject,\r\n            calendar: this.editObj.room_id,\r\n            start: this.serperateDate(data.start_date),\r\n            end: this.serperateDate(data.end_date),\r\n            background: \"#00FF00\"\r\n          });\r\n        });\r\n        console.log(appointments);\r\n        this.schedule(appointments);\r\n      }\r\n    },\r\n    schedule(data) {\r\n      this.rerender = false;\r\n      this.$nextTick(() => {\r\n        this.rerender = true;\r\n        this.source = {\r\n          dataType: \"array\",\r\n          dataFields: [\r\n            { name: \"id\", type: \"string\" },\r\n            { name: \"description\", type: \"string\" },\r\n            { name: \"location\", type: \"string\" },\r\n            { name: \"subject\", type: \"string\" },\r\n            { name: \"calendar\", type: \"string\" },\r\n            { name: \"start\", type: \"date\" },\r\n            { name: \"end\", type: \"date\" },\r\n            { background: \"background\" }\r\n          ],\r\n          id: \"id\",\r\n          localData: data\r\n        };\r\n        this.ource = new jqx.dataAdapter(this.source);\r\n        this.resources = {\r\n          colorScheme: \"scheme05\",\r\n          dataField: \"calendar\",\r\n          source: new jqx.dataAdapter(this.source)\r\n        };\r\n        this.$nextTick(() => {\r\n          this.$refs.myScheduler.ensureAppointmentVisible(\"id1\");\r\n        });\r\n      });\r\n    }\r\n  },\r\n  watch: {\r\n    async \"editObj.building_id\"(val) {\r\n      this.editObj.room_id = \"\";\r\n\r\n      var result = await service.postData(\"getRoomByBuilding\", {\r\n        building_id: this.editObj.building_id\r\n      });\r\n      this.rooms = result.data;\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Schedule1.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Schedule1.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Schedule1.vue?vue&type=template&id=82c4386e&scoped=true&\"\nimport script from \"./Schedule1.vue?vue&type=script&lang=js&\"\nexport * from \"./Schedule1.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Schedule1.vue?vue&type=style&index=0&id=82c4386e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"82c4386e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Schedule1.vue?vue&type=style&index=0&id=82c4386e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Schedule1.vue?vue&type=style&index=0&id=82c4386e&scoped=true&lang=css&\""],"sourceRoot":""}