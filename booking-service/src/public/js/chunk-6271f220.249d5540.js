(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6271f220"],{"13bb":function(t,e,n){},"1dc3":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.renderComponent?n("div",{staticClass:"vx-col w-full mb-base"},[n("vx-card",[n("vs-tabs",[n("vs-tab",{attrs:{label:t.$t("Officer Data")}},[n("div",{staticClass:"mt-3"},[n("vs-table",{attrs:{stripe:"",pagination:"","max-items":"10",search:"",data:t.departments},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.data;return t._l(a,function(e,a){return n("vs-tr",{key:a,attrs:{data:e}},[n("vs-td",{attrs:{data:e.department_id}},[n("div",{staticClass:"text-center",staticStyle:{width:"100px"}},[t._v(t._s(e.department_id))])]),n("vs-td",{attrs:{data:e.department_name_th}},[t._v(t._s(e.department_name_th))]),n("vs-td",{staticClass:"text-center aligin-center",attrs:{data:e.department_name_en}},[t._v(t._s(e.department_name_en))]),n("vs-td",[n("feather-icon",{staticClass:"cursor-pointer w-6 h-6 text-warning",attrs:{icon:"EditIcon",size:"small"},on:{click:function(n){return t.edit(e)}}})],1),n("vs-td",[n("feather-icon",{staticClass:"cursor-pointer w-6 h-6 text-danger",attrs:{icon:"Trash2Icon",size:"small"},on:{click:function(n){return t.delete_department(e)}}})],1)],1)})}}],null,!1,1755742734)},[n("template",{slot:"thead"},[n("vs-th",{staticClass:"text-center",attrs:{"sort-key":"department_id"}},[t._v(t._s(t.$t("Officer ID")))]),n("vs-th",{attrs:{"sort-key":"department_name_th"}},[t._v(t._s(t.$t("Officer's Thai Name")))]),n("th",{staticClass:"text-center aligin-center",attrs:{"sort-key":"department_name_en"}},[t._v(t._s(t.$t("Officer's English Name")))]),n("vs-th",[t._v(t._s(t.$t("edit")))]),n("vs-th",[t._v(t._s(t.$t("delete")))])],1)],2)],1)]),n("vs-tab",{attrs:{label:t.$t("Add Officer")}},[n("div",{staticClass:"mt-3"},[n("div",{staticClass:"container"},[n("div",{staticClass:"vx-row"},[n("div",{staticClass:"vx-col w-full mt-5"},[n("label",{attrs:{for:""}},[t._v(t._s(t.$t("Officer's Thai Name")))]),n("vs-input",{staticClass:"w-full",attrs:{danger:t.invalid.department_name_th},model:{value:t.editObj.department_name_th,callback:function(e){t.$set(t.editObj,"department_name_th",e)},expression:"editObj.department_name_th"}}),t.invalid.department_name_th?n("div",{staticClass:"errors"},[t._v(t._s(t.$t("Please input Officer's Thai Name")))]):t._e()],1),n("div",{staticClass:"vx-col w-full mt-5"},[n("label",{attrs:{for:""}},[t._v(t._s(t.$t("Officer's English Name")))]),n("vs-input",{staticClass:"w-full",attrs:{danger:t.invalid.department_name_en},model:{value:t.editObj.department_name_en,callback:function(e){t.$set(t.editObj,"department_name_en",e)},expression:"editObj.department_name_en"}}),t.invalid.department_name_en?n("div",{staticClass:"errors"},[t._v(t._s(t.$t("Please input Officer's English Name")))]):t._e()],1)])])]),n("div",{staticClass:"container mt-5"},[n("div",{staticClass:"vx-row"},[n("div",{staticClass:"w-full"},[n("vs-button",{ref:"loadableButton",staticClass:"vs-con-loading__container mr-5 ml-4",attrs:{id:"button-with-loading",vslor:"primary"},on:{click:t.save}},[t._v(t._s(t.$t("save")))]),n("vs-button",{attrs:{color:"danger",type:"border"},on:{click:function(e){return t.forceRerender()}}},[t._v(t._s(t.$t("cancel")))])],1)])])])],1),n("vs-popup",{staticClass:"holamundo",attrs:{title:t.$t("edit_title"),active:t.popupActive},on:{"update:active":function(e){t.popupActive=e}}},[n("div",{staticClass:"vx-row"},[n("div",{staticClass:"vx-col w-full mt-5"},[n("label",{attrs:{for:""}},[t._v(t._s(t.$t("Officer ID")))]),n("vs-input",{staticClass:"w-full",attrs:{disabled:""},model:{value:t.editObj.department_id,callback:function(e){t.$set(t.editObj,"department_id",e)},expression:"editObj.department_id"}})],1),n("div",{staticClass:"vx-col w-full mt-5"},[n("label",{attrs:{for:""}},[t._v(t._s(t.$t("Officer's Thai Name")))]),n("vs-input",{staticClass:"w-full",attrs:{danger:t.invalid.department_name_th},model:{value:t.editObj.department_name_th,callback:function(e){t.$set(t.editObj,"department_name_th",e)},expression:"editObj.department_name_th"}}),t.invalid.department_name_th?n("div",{staticClass:"errors"},[t._v(t._s(t.$t("Please input Officer's Thai Name")))]):t._e()],1),n("div",{staticClass:"vx-col w-full mt-5"},[n("label",{attrs:{for:""}},[t._v(t._s(t.$t("Officer's English Name")))]),n("vs-input",{staticClass:"w-full",attrs:{danger:t.invalid.department_name_en},model:{value:t.editObj.department_name_en,callback:function(e){t.$set(t.editObj,"department_name_en",e)},expression:"editObj.department_name_en"}}),t.invalid.department_name_en?n("div",{staticClass:"errors"},[t._v(t._s(t.$t("Please input Officer's English Name")))]):t._e()],1)]),n("div",{staticClass:"mt-5"},[n("div",{staticClass:"vx-row"},[n("div",{staticClass:"w-full"},[n("vs-button",{ref:"loadableButton",staticClass:"vs-con-loading__container mr-4 ml-8",attrs:{id:"button-with-loading",vslor:"primary"},on:{click:t.save_edit}},[t._v(t._s(t.$t("save")))]),n("vs-button",{attrs:{color:"danger",type:"border"},on:{click:function(e){t.popupActive=!1}}},[t._v(t._s(t.$t("cancel")))])],1)])])])],1)],1):t._e()},r=[],s=n("c93e"),i=(n("96cf"),n("3040")),c=(n("ac6a"),n("fa33")),o=n("67cf"),l=n("fbea"),d=(n("c1df"),n("4be7"),{components:{EditUser:l["a"],Datepicker:c["a"]},data:function(){return{colorLoading:"#ff8000",renderComponent:!0,sideBarActive:!1,editing:!1,popupActive:!1,departments:[],submitted:!1,editObj:{department_name_th:"",department_name_en:""}}},computed:{invalid:function(){var t=this,e=function(e){var n={};return e.forEach(function(e){""==t.editObj[e]&&t.submitted?n[e]=!0:n[e]=!1}),n};return e(["department_name_th","department_name_en"])},isInvald:function(){var t=!1;for(var e in this.invalid)this.invalid[e]&&(t=!0);return t}},created:function(){this.getdata(),this.initVal()},methods:{initVal:function(){this.submitted=!1,this.popupActive=!1,this.editObj={department_name_en:"",department_name_th:""}},getdata:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o["a"].postData("department/getDepartment",{});case 3:e=t.sent,this.departments=e.data,t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),edit:function(t){this.editObj=Object(s["a"])({},t),this.popupActive=!0},save:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.submitted=!0,this.isInvald){t.next=14;break}return t.prev=2,t.next=5,o["a"].postData("department/createDepartment",this.editObj);case 5:return t.next=7,this.$swal(this.$t("success_title"),"","success");case 7:this.getdata(),this.forceRerender(),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),console.log(t.t0);case 14:case"end":return t.stop()}},t,this,[[2,11]])}));return function(){return t.apply(this,arguments)}}(),save_edit:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.submitted=!0,this.isInvald){t.next=23;break}return this.$vs.loading({color:this.colorLoading}),t.prev=3,t.next=6,o["a"].postData("department/updateDepartment",this.editObj);case 6:return this.popupActive=!1,this.$vs.loading.close(),t.next=10,this.$swal(this.$t("success_title"),"","success");case 10:this.getdata(),this.forceRerender(),t.next=23;break;case 14:return t.prev=14,t.t0=t["catch"](3),console.log("catching error"),this.popupActive=!1,this.$vs.loading.close(),t.next=21,this.$swal("error",t.t0.message,"error");case 21:this.popupActive=!0,console.log(t.t0);case 23:case"end":return t.stop()}},t,this,[[3,14]])}));return function(){return t.apply(this,arguments)}}(),forceRerender:function(){var t=this;this.renderComponent=!1,this.$nextTick(function(){t.initVal(),t.renderComponent=!0})},delete_department:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$swal({title:this.$t("Are you sure to delete this officer?"),text:this.$t("delete_text"),type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:this.$t("cancel"),confirmButtonText:this.$t("confirm_delete"),showLoaderOnConfirm:!0,preConfirm:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o["a"].postData("/department/deleteDepartment",e);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t["catch"](0),t.abrupt("return",t.t0);case 9:case"end":return t.stop()}},t,this,[[0,6]])}));return function(){return t.apply(this,arguments)}}()});case 2:if(n=t.sent,!n.value){t.next=14;break}if(1!=n.value.code){t.next=12;break}return t.next=7,this.$swal(this.$t("deleted_title"),"","success");case 7:this.getdata(),this.forceRerender(),this.initVal(),t.next=14;break;case 12:return t.next=14,this.$swal(this.$t("error"),n.value.message,"error");case 14:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},watch:{popupActive:function(t){t||this.initVal()},"editObj.province":function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:""==e||this.editing||(this.editObj.postcode="",this.getAmphur());case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),"editObj.amphur":function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:""==e||this.editing||this.getTambon();case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),"editObj.tambon":function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:""==e||this.editing||this.getPostCode();case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}}),u=d,p=(n("f99e"),n("2877")),m=Object(p["a"])(u,a,r,!1,null,"10a219e2",null);e["default"]=m.exports},c93e:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var a=n("a322");function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){Object(a["a"])(t,e,n[e])})}return t}},f99e:function(t,e,n){"use strict";var a=n("13bb"),r=n.n(a);r.a}}]);
//# sourceMappingURL=chunk-6271f220.249d5540.js.map