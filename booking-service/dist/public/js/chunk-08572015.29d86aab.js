(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-08572015"],{"79eb":function(t,e,a){"use strict";var s=a("8e5c"),i=a.n(s);i.a},"8e5c":function(t,e,a){},b7c4:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.renderComponent?a("div",{staticClass:"vx-col w-full mb-base"},[a("vx-card",[a("vs-table",{attrs:{stripe:"",pagination:"","max-items":"10",search:"",data:t.bookings},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.data;return t._l(s,function(e,s){return a("vs-tr",{key:s,attrs:{data:e}},[a("vs-td",{attrs:{data:e.booking_id}},[t._v(t._s(e.booking_id))]),a("vs-td",{attrs:{data:e.first_name+e.last_name,width:"200px"}},[t._v(t._s(e.first_name+" "+e.last_name))]),a("vs-td",{attrs:{data:e.room_name}},[t._v(t._s(e.room_name))]),a("vs-td",{attrs:{data:e.booking_description}},[t._v(t._s(e.booking_description))]),a("vs-td",{attrs:{data:e.start_date}},[t._v(t._s(t._f("formatDate")(e.start_date)))]),a("vs-td",{attrs:{data:e.end_date}},[t._v(t._s(t._f("formatDate")(e.end_date)))]),a("vs-td",[a("feather-icon",{staticClass:"cursor-pointer w-6 h-6 text-primary",attrs:{icon:"MaximizeIcon",size:"small"},on:{click:function(a){return t.views(e)}}})],1),a("vs-td",[a("feather-icon",{staticClass:"cursor-pointer w-6 h-6 text-danger",attrs:{icon:"Trash2Icon",size:"small"},on:{click:function(a){return t.delete_booking(e)}}})],1)],1)})}}],null,!1,2953681716)},[a("template",{slot:"thead"},[a("vs-th",{attrs:{"sort-key":"booking_id"}},[t._v(t._s(t.$t("booking_id")))]),a("vs-th",{attrs:{"sort-key":"first_name+last_name"}},[t._v(t._s(t.$t("first_surname")))]),a("vs-th",{attrs:{"sort-key":"room_name"}},[t._v(t._s(t.$t("room_name")))]),a("vs-th",{attrs:{"sort-key":"booking_description"}},[t._v(t._s(t.$t("booking_description")))]),a("vs-th",{attrs:{"sort-key":"start_date"}},[t._v(t._s(t.$t("start_date")))]),a("vs-th",{attrs:{"sort-key":"end_date"}},[t._v(t._s(t.$t("end_date")))]),a("vs-th",[t._v(t._s(t.$t("view")))]),a("vs-th",[t._v(t._s(t.$t("delete")))])],1)],2)],1),a("vs-popup",{staticClass:"holamundo",attrs:{title:t.$t("view"),active:t.popupActive},on:{"update:active":function(e){t.popupActive=e}}},[a("div",{staticClass:"vx-row mt-5"},[a("div",{staticClass:"vx-col md:w-1/4 w-1/2 pl-5"},[t._v(t._s(t.$t("Officer"))+":")]),a("div",{staticClass:"vx-col md:w-3/4 w-1/2 pl-5 value"},[t._v(t._s(t.view["department_name_"+t.$i18n.locale]))])]),a("div",{staticClass:"vx-row mt-5"},[a("div",{staticClass:"vx-col md:w-1/4 w-1/2 pl-5"},[t._v(t._s(t.$t("Department"))+":")]),a("div",{staticClass:"vx-col md:w-3/4 w-1/2 pl-5 value"},[t._v(t._s(t.view["sub_department_name_"+t.$i18n.locale]))])]),a("div",{staticClass:"vx-row mt-5"},[a("div",{staticClass:"vx-col md:w-1/4 w-1/2 pl-5"},[t._v(t._s(t.$t("booking_description"))+":")]),a("div",{staticClass:"vx-col md:w-3/4 w-1/2 pl-5 value"},[t._v(t._s(t.view.booking_description))])]),a("div",{staticClass:"vx-row mt-5"},[a("div",{staticClass:"vx-col md:w-1/4 w-1/2 pl-5"},[t._v(t._s(t.$t("booking_id"))+":")]),a("div",{staticClass:"vx-col md:w-1/4 w-1/2 pl-5 value"},[t._v(t._s(t.view.booking_id))]),a("div",{staticClass:"vx-col md:w-1/4 w-1/2 pl-5"},[t._v(t._s(t.$t("first_surname"))+":")]),a("div",{staticClass:"vx-col md:w-1/4 w-1/2 pl-5 value"},[t._v(t._s(t.view.first_name+" "+t.view.last_name))])]),a("div",{staticClass:"vx-row mt-5"},[a("div",{staticClass:"vx-col md:w-1/4 w-1/2 pl-5"},[t._v(t._s(t.$t("room_name"))+":")]),a("div",{staticClass:"vx-col md:w-1/4 w-1/2 pl-5 value"},[t._v(t._s(t.view.room_name))]),a("div",{staticClass:"vx-col md:w-1/4 w-1/2 pl-5"},[t._v(t._s(t.$t("importance"))+":")]),a("div",{staticClass:"vx-col md:w-1/4 w-1/2 pl-5 value"},[t._v(t._s(t.$t(t.view.important)))])]),a("div",{staticClass:"vx-row mt-5"},[a("div",{staticClass:"vx-col md:w-1/4 w-1/2 pl-5"},[t._v(t._s(t.$t("Remark"))+":")]),a("div",{staticClass:"vx-col md:w-1/4 w-1/2 pl-5 value"},[t._v(t._s(t.view.remark))]),a("div",{staticClass:"vx-col md:w-1/4 w-1/2 pl-5"},[t._v(t._s(t.$t("Tel"))+":")]),a("div",{staticClass:"vx-col md:w-1/4 w-1/2 pl-5 value"},[t._v(t._s(t.view.tel))])]),a("div",{staticClass:"vx-row mt-5"},[a("div",{staticClass:"vx-col md:w-1/4 w-1/2 pl-5"},[t._v(t._s(t.$t("Member"))+":")]),a("div",{staticClass:"vx-col md:w-1/4 w-1/2 pl-5 value"},[t._v(t._s(t.view.member))]),a("div",{staticClass:"vx-col md:w-1/4 w-1/2 pl-5"},[t._v(t._s(t.$t("booking_date"))+":")]),a("div",{staticClass:"vx-col md:w-1/4 w-1/2 pl-5 value"},[t._v(t._s(t._f("onlyDate")(t.view.booking_date)))])]),a("div",{staticClass:"vx-row mt-5"},[a("div",{staticClass:"vx-col md:w-1/4 w-1/2 pl-5"},[t._v(t._s(t.$t("date"))+":")]),a("div",{staticClass:"vx-col md:w-1/4 w-1/2 pl-5 value"},[t._v(t._s(t._f("onlyDate")(t.view.start_date)))]),a("div",{staticClass:"vx-col md:w-1/4 w-1/2 pl-5"},[t._v(t._s(t.$t("time"))+":")]),a("div",{staticClass:"vx-col md:w-1/4 w-1/2 pl-5 value"},[t._v(t._s(t._f("onlyTime")(t.view.start_date))+"-"+t._s(t._f("onlyTime")(t.view.end_date)))])]),t.materials.length>0?a("v-template",[a("div",{staticClass:"vx-row mt-5 ml-5"},[a("strong",[t._v(t._s(t.$t("Material Detail")))])]),a("vs-table",{attrs:{stripe:"",pagination:"","max-items":"10",search:"",data:t.materials},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.data;return t._l(s,function(e,s){return a("vs-tr",{key:s,attrs:{data:e}},[a("vs-td",{attrs:{data:e.material_id}},[t._v(t._s(e.material_id))]),a("vs-td",{attrs:{data:e.material_name,width:"200px"}},[t._v(t._s(e.material_name))]),a("vs-td",{attrs:{data:e.material_price}},[t._v(t._s(e.material_price))]),a("vs-td",{attrs:{data:e.number}},[t._v(t._s(e.number))]),a("vs-td",{attrs:{data:e.total_price}},[t._v(t._s(e.total_price))])],1)})}}],null,!1,2323768395)},[a("template",{slot:"thead"},[a("vs-th",{attrs:{"sort-key":"material_id"}},[t._v(t._s(t.$t("material_id")))]),a("vs-th",{attrs:{"sort-key":"material_name"}},[t._v(t._s(t.$t("material_name")))]),a("vs-th",{attrs:{"sort-key":"material_price"}},[t._v(t._s(t.$t("material_price")))]),a("vs-th",{attrs:{"sort-key":"number"}},[t._v(t._s(t.$t("material_number")))]),a("vs-th",{attrs:{"sort-key":"total_price"}},[t._v(t._s(t.$t("total_price")))])],1)],2)],1):t._e()],1)],1):t._e()},i=[],o=(a("551c"),a("fa33")),n=a("67cf"),r=a("fbea"),l=(a("c1df"),{components:{EditUser:r["a"],Datepicker:o["a"]},data:function(){return{change_password:!1,renderComponent:!0,popupActive:!1,bookings:[],view:{},materials:[],roles:[],submitted:!1,editObj:{}}},computed:{invalid:function(){var t=this,e=function(e){return t.submitted&&""==t.editObj[e]};return{room_name:e("room_name"),num_chair:e("num_chair"),num_table:e("num_table")}},isInvald:function(){return this.invalid.room_name||this.invalid.num_chair||this.invalid.num_table}},created:function(){this.getdata(),this.initVal()},methods:{initVal:function(){this.submitted=!1,this.change_password=!1,popupActive=!1,this.editObj={room_name:"",num_chair:"",num_table:""}},views:function(t){var e=this;this.popupActive=!0,this.view=t,n["a"].postData("/get_booked_material",{booking_id:t.booking_id}).then(function(t){e.materials=t.data})},delete_booking:function(t){var e=this;this.$swal({title:this.$t("delete_booking_title"),text:this.$t("delete_text"),type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:this.$t("cancel"),confirmButtonText:this.$t("confirm_delete"),showLoaderOnConfirm:!0,preConfirm:function(){return n["a"].postData("/delete_booking",{booking_id:t.booking_id}).then(function(t){return t})}}).then(function(t){t.value&&(t.value.code?e.$swal(e.$t("deleted_title"),"","success").then(function(t){e.getdata(),e.forceRerender(),e.initVal()}):e.$swal(t.value.message,"","error"))})},reject:function(t){var e=this;this.$swal({title:this.$t("reject_booking_title"),text:this.$t("reject_text"),type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:this.$t("cancel"),confirmButtonText:this.$t("confirm_delete"),showLoaderOnConfirm:!0,preConfirm:function(){return n["a"].postData("/reject",{booking_id:t.booking_id}).then(function(t){return t})}}).then(function(t){t.value&&(t.value.code?e.$swal(e.$t("rejected_title"),"","success").then(function(t){e.getdata(),e.forceRerender(),e.initVal()}):e.$swal(t.value.message,"","error"))})},approve:function(t){var e=this;this.$swal({title:this.$t("approve_booking_title"),text:this.$t("approve_text"),type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:this.$t("cancel"),confirmButtonText:this.$t("confirm_delete"),showLoaderOnConfirm:!0,preConfirm:function(){return n["a"].postData("/approve",{booking_id:t.booking_id}).then(function(t){return t})}}).then(function(t){t.value&&(t.value.code?e.$swal(e.$t("approved_title"),"","success").then(function(t){e.getdata(),e.forceRerender(),e.initVal()}):e.$swal(t.value.message,"","error"))})},getdata:function(){var t=this,e=n["a"].getUser().user.username;n["a"].postData("/get_user_booked",{username:e}).then(function(e){t.bookings=e.data})},forceRerender:function(){var t=this;this.renderComponent=!1,this.$nextTick(function(){t.renderComponent=!0})},save:function(){var t=this;this.submitted=!0,this.isInvald||(this.popupActive?this.$vs.loading({background:this.backgroundLoading,color:this.colorLoading,container:"#button-with-loading1",scale:.45}):this.$vs.loading({background:this.backgroundLoading,color:this.colorLoading,container:"#button-with-loading",scale:.45}),n["a"].postData("/upsert_room",this.editObj).then(function(e){t.popupActive?t.$vs.loading.close("#button-with-loading1 > .con-vs-loading"):t.$vs.loading.close("#button-with-loading > .con-vs-loading"),t.popupActive=!1,t.$swal(t.$t("success_title"),"","success").then(function(e){t.getdata(),t.forceRerender()})},function(e){t.popupActive=!1}))}},watch:{popupActive:function(t){t||(this.editObj={room_name:"",num_chair:"",num_table:""})}}}),c=l,v=(a("79eb"),a("2877")),d=Object(v["a"])(c,s,i,!1,null,"66ca2cc0",null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-08572015.29d86aab.js.map