{"remainingRequest":"D:\\DTC PROJECT\\booking\\web\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!D:\\DTC PROJECT\\booking\\web\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\DTC PROJECT\\booking\\web\\src\\service\\service.js","dependencies":[{"path":"D:\\DTC PROJECT\\booking\\web\\src\\service\\service.js","mtime":1570001778580},{"path":"D:\\DTC PROJECT\\booking\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\DTC PROJECT\\booking\\web\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\DTC PROJECT\\booking\\web\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.regexp.split\";\n// import Api from '@/service/api'\nimport axios from 'axios'; // import { read } from 'fs';\n// import Axios from 'axios';\n\nimport Vue from 'vue';\nimport moment from \"moment\";\nexport default {\n  prefix_token: \"here.is.my.secret\",\n  // url:\"http://localhost:3000/api/\",\n  url: \"http://203.150.210.26:3008/api/\",\n  getData: function getData(url) {\n    var _this = this;\n\n    return new Promise(function (resolve, reject) {\n      axios.create({\n        baseURL: _this.url,\n        withCredentials: false,\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'x-access-token': _this.getToken()\n        }\n      }).get(url).then(function (result) {\n        result = result.data;\n\n        if (result.code == true) {\n          resolve(result);\n        } else {\n          Vue.swal(result.message, '', 'error').then(function (result) {\n            reject(result);\n          });\n        }\n      }, function (err) {\n        reject(err);\n      });\n    });\n  },\n  postData: function postData(url, data) {\n    var _this2 = this;\n\n    return new Promise(function (resolve, reject) {\n      axios.create({\n        baseURL: _this2.url,\n        withCredentials: false,\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'x-access-token': _this2.getToken()\n        }\n      }).post(url, JSON.stringify(data)).then(function (result) {\n        result = result.data;\n\n        if (result.code == true) {\n          resolve(result);\n        } else {\n          Vue.swal(result.message, '', 'error').then(function (result) {\n            reject(result);\n          });\n        }\n      }, function (err) {\n        reject(err);\n      });\n    });\n  },\n  prefix: \"xsdfjksldfjlsdfkjsldfkj\",\n  tokenText: \"getmytoken\",\n  setToken: function setToken(token) {\n    sessionStorage.setItem(this.tokenText, this.prefix + token);\n  },\n  getToken: function getToken() {\n    var token = sessionStorage.getItem(this.tokenText);\n\n    if (token) {\n      return token.substr(this.prefix.length);\n    } else {\n      return \"\";\n    }\n  },\n  removeToken: function removeToken() {\n    sessionStorage.removeItem(this.tokenText);\n  },\n  getUser: function getUser() {\n    return this.decodeToken(this.getToken());\n  },\n  isLoggedIn: function isLoggedIn() {\n    return this.checkLogin(this.prefix + this.getToken());\n  },\n  checkLogin: function checkLogin(token) {\n    if (this.decodeToken(token.substr(this.prefix.length))) {\n      return true;\n    }\n\n    return false;\n  },\n  decodeToken: function decodeToken(token) {\n    if (token.length < this.prefix_token.length) {\n      return \"\";\n    } else {\n      token = token.substr(this.prefix_token.length);\n    }\n\n    try {\n      var base64Url = token.split('.')[1];\n      var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n      var jsonPayload = decodeURIComponent(atob(base64).split('').map(function (c) {\n        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n      }).join(''));\n      return JSON.parse(jsonPayload);\n    } catch (e) {\n      return \"\";\n    }\n  }\n};",{"version":3,"sources":["D:\\DTC PROJECT\\booking\\web\\src\\service\\service.js"],"names":["axios","Vue","moment","prefix_token","url","getData","Promise","resolve","reject","create","baseURL","withCredentials","headers","getToken","get","then","result","data","code","swal","message","err","postData","post","JSON","stringify","prefix","tokenText","setToken","token","sessionStorage","setItem","getItem","substr","length","removeToken","removeItem","getUser","decodeToken","isLoggedIn","checkLogin","base64Url","split","base64","replace","jsonPayload","decodeURIComponent","atob","map","c","charCodeAt","toString","slice","join","parse","e"],"mappings":"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","sourcesContent":["// import Api from '@/service/api'\r\nimport axios from 'axios'\r\n// import { read } from 'fs';\r\n// import Axios from 'axios';\r\nimport Vue from 'vue';\r\nimport moment from \"moment\";\r\nexport default {\r\n  prefix_token:\"here.is.my.secret\",\r\n  // url:\"http://localhost:3000/api/\",\r\n  url:\"http://203.150.210.26:3008/api/\",\r\n  getData(url) {\r\n    return new Promise((resolve, reject) => {\r\n      axios.create({\r\n        baseURL: this.url,\r\n        withCredentials: false,\r\n        headers: {\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json',\r\n          'x-access-token': this.getToken()\r\n        }\r\n      }).get(url).then(result => {\r\n\r\n        result=result.data;\r\n        if(result.code==true){\r\n          resolve(result);\r\n        }else{\r\n          Vue.swal(result.message,'','error').then((result)=>{\r\n            reject(result);\r\n          });\r\n        }\r\n      }, err => {\r\n        reject(err);\r\n      });\r\n    })\r\n  },\r\n  postData(url, data) {\r\n    return new Promise((resolve, reject) => {\r\n      axios.create({\r\n        baseURL: this.url,\r\n        withCredentials: false,\r\n        headers: {\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json',\r\n          'x-access-token': this.getToken()\r\n        }\r\n      }).post(url, JSON.stringify(data)).then(result => {\r\n        result=result.data;\r\n        if(result.code==true){\r\n          resolve(result);\r\n        }else{\r\n          Vue.swal(result.message,'','error').then((result)=>{\r\n            reject(result);\r\n          });\r\n        }\r\n      }, err => {\r\n        reject(err);\r\n      });\r\n    })\r\n  },\r\n  prefix: \"xsdfjksldfjlsdfkjsldfkj\",\r\n  tokenText: \"getmytoken\",\r\n  setToken(token) {\r\n    sessionStorage.setItem(this.tokenText, this.prefix + token);\r\n  },\r\n  getToken() {\r\n    var token = sessionStorage.getItem(this.tokenText);\r\n    if (token) {\r\n      return token.substr(this.prefix.length);\r\n    } else {\r\n      return \"\";\r\n    }\r\n\r\n  },\r\n  removeToken(){\r\n    sessionStorage.removeItem(this.tokenText);\r\n  },\r\n  getUser() {\r\n    return this.decodeToken(this.getToken());\r\n  },\r\n  isLoggedIn() {\r\n\r\n    return (this.checkLogin(this.prefix + this.getToken()))\r\n\r\n\r\n  },\r\n  checkLogin(token) {\r\n\r\n    if (this.decodeToken(token.substr(this.prefix.length))) {\r\n      return true;\r\n    }\r\n    return false;\r\n  },\r\n\r\n\r\n  decodeToken(token) {\r\n    if(token.length<this.prefix_token.length){\r\n      return \"\";\r\n    }else{\r\n      token=token.substr(this.prefix_token.length);\r\n    }\r\n    try {\r\n      var base64Url = token.split('.')[1];\r\n      var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\r\n      var jsonPayload = decodeURIComponent(atob(base64).split('').map(function (c) {\r\n        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\r\n      }).join(''));\r\n\r\n      return JSON.parse(jsonPayload);\r\n    } catch (e) {\r\n      return \"\";\r\n    }\r\n  }\r\n\r\n}\r\n"]}]}