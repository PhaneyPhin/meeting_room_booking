(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-280491b1"],{"38d4":function(t,e,s){"use strict";var i=s("6d0d"),a=s.n(i);a.a},5961:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.renderComponent?s("div",{staticClass:"vx-col"},[s("vx-card",[s("vs-tabs",[s("vs-tab",{attrs:{label:t.$t("room_data")}},[s("div",{staticClass:"mt-3"},[s("vs-table",{attrs:{pagination:"","max-items":"10",search:"",data:t.rooms},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.data;return t._l(i,function(e,i){return s("vs-tr",{key:i,attrs:{data:e}},[s("vs-td",{attrs:{data:e.room_id}},[t._v(t._s(e.room_id))]),s("vs-td",{attrs:{data:e.building_name}},[t._v(t._s(e.building_name))]),s("vs-td",{attrs:{data:e.room_name}},[t._v(t._s(e.room_name))]),s("vs-td",{attrs:{data:e.num_chair}},[t._v(t._s(e.num_chair))]),s("vs-td",{attrs:{data:e.num_table}},[t._v(t._s(e.num_table))]),s("vs-td",[s("feather-icon",{staticClass:"cursor-pointer w-6 h-6 text-warning",attrs:{icon:"EditIcon",size:"small"},on:{click:function(s){t.editObj=e,t.popupActive=!0}}})],1),s("vs-td",[s("feather-icon",{staticClass:"cursor-pointer w-6 h-6 text-danger",attrs:{icon:"Trash2Icon",size:"small"},on:{click:function(s){return t.delete_room(e)}}})],1)],1)})}}],null,!1,3642643153)},[s("template",{slot:"thead"},[s("vs-th",{attrs:{"sort-key":"room_id"}},[t._v(t._s(t.$t("room_id")))]),s("vs-th",{attrs:{"sort-key":"building_name"}},[t._v("\n                "+t._s(t.$t("Building Name"))+"\n              ")]),s("vs-th",{attrs:{"sort-key":"room_name"}},[t._v(t._s(t.$t("room_name")))]),s("vs-th",{attrs:{"sort-key":"num_chair"}},[t._v(t._s(t.$t("num_chair")))]),s("vs-th",{attrs:{"sort-key":"num_table"}},[t._v(t._s(t.$t("num_table")))]),s("vs-th",[t._v(t._s(t.$t("edit")))]),s("vs-th",[t._v(t._s(t.$t("delete")))])],1)],2)],1)]),s("vs-tab",{attrs:{label:t.$t("add_room")}},[s("div",{staticClass:"vx-row"},[s("div",{staticClass:"vx-col md:w-1/3 mt-5"},[s("label",[t._v("\n              "+t._s(t.$t("room_name"))+"\n              "),s("span",{staticClass:"require"},[t._v("*")])]),s("vs-input",{staticClass:"w-full",attrs:{danger:t.invalid.room_name},model:{value:t.editObj.room_name,callback:function(e){t.$set(t.editObj,"room_name",e)},expression:"editObj.room_name"}}),t.invalid.room_name?s("div",{staticClass:"errors"},[t._v(t._s(t.$t("alert_room_name")))]):t._e()],1),s("div",{staticClass:"vx-col md:w-1/3 mt-5"},[s("label",[t._v("\n              "+t._s(t.$t("num_chair"))+"\n              "),s("span",{staticClass:"require"},[t._v("*")])]),s("vs-input",{staticClass:"w-full",attrs:{danger:t.invalid.num_chair},on:{keypress:t.checkNumber},model:{value:t.editObj.num_chair,callback:function(e){t.$set(t.editObj,"num_chair",e)},expression:"editObj.num_chair"}}),t.invalid.num_chair?s("div",{staticClass:"errors"},[t._v(t._s(t.$t("alert_num_chair")))]):t._e()],1),s("div",{staticClass:"vx-col md:w-1/3 mt-5"},[s("label",[t._v("\n              "+t._s(t.$t("Floor"))+"\n              "),s("span",{staticClass:"require"},[t._v("*")])]),s("vs-input",{staticClass:"w-full",attrs:{danger:t.invalid.floor,maxlength:"3"},on:{keypress:t.checkNumber},model:{value:t.editObj.floor,callback:function(e){t.$set(t.editObj,"floor",e)},expression:"editObj.floor"}}),t.invalid.floor?s("div",{staticClass:"errors"},[t._v(t._s(t.$t("please input floor")))]):t._e()],1),s("div",{staticClass:"vx-col md:w-1/4 mt-5"},[s("label",[t._v("\n              "+t._s(t.$t("num_table"))+"\n              "),s("span",{staticClass:"require"},[t._v("*")])]),s("vs-input",{staticClass:"w-full",attrs:{danger:t.invalid.num_table},on:{keypress:t.checkNumber},model:{value:t.editObj.num_table,callback:function(e){t.$set(t.editObj,"num_table",e)},expression:"editObj.num_table"}}),t.invalid.num_table?s("div",{staticClass:"errors"},[t._v(t._s(t.$t("alert_num_table")))]):t._e()],1),s("div",{staticClass:"vx-col md:w-1/4 mt-5"},[s("label",{attrs:{for:""}},[t._v(t._s(t.$t("Building Name")))]),s("vs-select",{staticClass:"w-full",attrs:{danger:t.invalid.building_id},model:{value:t.editObj.building_id,callback:function(e){t.$set(t.editObj,"building_id",e)},expression:"editObj.building_id"}},t._l(t.buildings,function(t,e){return s("vs-select-item",{key:e,attrs:{value:t.building_id,text:t.building_name}})}),1),t.invalid.building_id?s("div",{staticClass:"errors"},[t._v(t._s(t.$t("Please select building ")))]):t._e()],1),s("div",{staticClass:"vx-col md:w-1/4 mt-5"},[s("label",{attrs:{for:""}},[t._v(t._s(t.$t("Room Status")))]),s("vs-select",{staticClass:"w-full",attrs:{danger:t.invalid.status},model:{value:t.editObj.status,callback:function(e){t.$set(t.editObj,"status",e)},expression:"editObj.status"}},t._l(t.room_status,function(e,i){return s("vs-select-item",{key:i,attrs:{value:e,text:t.$t(e)}})}),1),t.invalid.status?s("div",{staticClass:"errors"},[t._v(t._s(t.$t("Please select status ")))]):t._e()],1)]),s("div",{staticClass:"vx-row"},[s("div",{staticClass:"vx-col md:w-full mt-5"},[s("vs-checkbox",{model:{value:t.editObj.approvement,callback:function(e){t.$set(t.editObj,"approvement",e)},expression:"editObj.approvement"}},[t._v("\n              "+t._s(t.$t("Require Approvement"))+"\n            ")])],1)]),s("div",{staticClass:"vx-row"},[s("div",{staticClass:"vx-col w-full mt-5"},[s("vs-button",{staticClass:"right",attrs:{color:"danger",type:"border"},on:{click:function(e){return t.forceRerender()}}},[t._v(t._s(t.$t("cancel")))]),s("vs-button",{ref:"loadableButton",staticClass:"vs-con-loading__container right",attrs:{id:"button-with-loading",vslor:"primary"},on:{click:t.save}},[t._v(t._s(t.$t("save")))])],1)])])],1),s("vs-popup",{staticClass:"holamundo",attrs:{title:t.$t("edit_title"),active:t.popupActive},on:{"update:active":function(e){t.popupActive=e}}},[s("div",{staticClass:"vx-row"},[s("div",{staticClass:"vx-col md:w-full mt-5"},[s("label",[t._v("\n            "+t._s(t.$t("room_name"))+"\n            "),s("span",{staticClass:"require"},[t._v("*")])]),s("vs-input",{staticClass:"w-full",attrs:{danger:t.invalid.room_name},model:{value:t.editObj.room_name,callback:function(e){t.$set(t.editObj,"room_name",e)},expression:"editObj.room_name"}}),t.invalid.room_name?s("div",{staticClass:"errors"},[t._v(t._s(t.$t("alert_room_name")))]):t._e()],1),s("div",{staticClass:"vx-col md:w-full mt-5"},[s("label",[t._v("\n            "+t._s(t.$t("Floor"))+"\n            "),s("span",{staticClass:"require"},[t._v("*")])]),s("vs-input",{staticClass:"w-full",attrs:{danger:t.invalid.floor},on:{keypress:t.checkNumber},model:{value:t.editObj.floor,callback:function(e){t.$set(t.editObj,"floor",e)},expression:"editObj.floor"}}),t.invalid.floor?s("div",{staticClass:"errors"},[t._v(t._s(t.$t("please input floor")))]):t._e()],1),s("div",{staticClass:"vx-col md:w-full mt-5"},[s("label",[t._v("\n            "+t._s(t.$t("num_chair"))+"\n            "),s("span",{staticClass:"require"},[t._v("*")])]),s("vs-input",{staticClass:"w-full",attrs:{danger:t.invalid.num_chair},on:{keypress:t.checkNumber},model:{value:t.editObj.num_chair,callback:function(e){t.$set(t.editObj,"num_chair",e)},expression:"editObj.num_chair"}}),t.invalid.num_chair?s("div",{staticClass:"errors"},[t._v(t._s(t.$t("alert_num_chair")))]):t._e()],1),s("div",{staticClass:"vx-col md:w-full mt-5"},[s("label",[t._v("\n            "+t._s(t.$t("num_table"))+"\n            "),s("span",{staticClass:"require"},[t._v("*")])]),s("vs-input",{staticClass:"w-full",attrs:{danger:t.invalid.num_table},on:{keypress:t.checkNumber},model:{value:t.editObj.num_table,callback:function(e){t.$set(t.editObj,"num_table",e)},expression:"editObj.num_table"}}),t.invalid.num_table?s("div",{staticClass:"errors"},[t._v(t._s(t.$t("alert_num_table")))]):t._e()],1),s("div",{staticClass:"vx-col md:w-full mt-5"},[s("label",{attrs:{for:""}},[t._v(t._s(t.$t("Building Name")))]),s("vs-select",{staticClass:"w-full",attrs:{danger:t.invalid.building_id},model:{value:t.editObj.building_id,callback:function(e){t.$set(t.editObj,"building_id",e)},expression:"editObj.building_id"}},t._l(t.buildings,function(t,e){return s("vs-select-item",{key:e,attrs:{value:t.building_id,text:t.building_name}})}),1),t.invalid.building_id?s("div",{staticClass:"errors"},[t._v(t._s(t.$t("Please select building ")))]):t._e()],1),s("div",{staticClass:"vx-col md:w-full mt-5"},[s("label",{attrs:{for:""}},[t._v(t._s(t.$t("Room Status")))]),s("vs-select",{staticClass:"w-full",attrs:{danger:t.invalid.status},model:{value:t.editObj.status,callback:function(e){t.$set(t.editObj,"status",e)},expression:"editObj.status"}},t._l(t.room_status,function(e,i){return s("vs-select-item",{key:i,attrs:{value:e,text:t.$t(e)}})}),1),t.invalid.status?s("div",{staticClass:"errors"},[t._v(t._s(t.$t("Please select status ")))]):t._e()],1),s("div",{staticClass:"vx-col md:w-full mt-5"},[s("vs-checkbox",{model:{value:t.editObj.approvement,callback:function(e){t.$set(t.editObj,"approvement",e)},expression:"editObj.approvement"}},[t._v("\n            "+t._s(t.$t("Require Approvement"))+"\n          ")])],1)]),s("div",{staticClass:"vx-row"},[s("div",{staticClass:"vx-col w-full mt-5"},[s("vs-button",{staticClass:"right",attrs:{color:"danger",type:"border"},on:{click:function(e){t.popupActive=!1}}},[t._v(t._s(t.$t("cancel")))]),s("vs-button",{ref:"loadableButton",staticClass:"vs-con-loading__container right",attrs:{id:"button-with-loading1",vslor:"primary"},on:{click:t.save_edit}},[t._v(t._s(t.$t("save")))])],1)])])],1)],1):t._e()},a=[],n=(s("96cf"),s("3040")),r=s("fa33"),o=s("67cf"),l=s("fbea"),c=(s("c1df"),{components:{EditUser:l["a"],Datepicker:r["a"]},data:function(){return{editing:!1,change_password:!1,renderComponent:!0,popupActive:!1,rooms:[],roles:[],submitted:!1,buildings:[],editObj:{room_name:"",num_chair:"",num_table:"",building_id:"",floor:"",status:""},room_status:["normal","repair","cancel using"]}},computed:{invalid:function(){var t=this,e=function(e){return t.submitted&&(""==t.editObj[e]||null==t.editObj[e])};return{room_name:e("room_name"),num_chair:e("num_chair"),num_table:e("num_table"),building_id:e("building_id"),floor:e("floor"),status:e("status")}},isInvald:function(){return this.invalid.room_name||this.invalid.num_chair||this.invalid.num_table||this.invalid.building_id||this.invalid.floor||this.invalid.status}},created:function(){this.getdata(),this.initVal()},methods:{initVal:function(){this.submitted=!1,this.change_password=!1,this.popupActive=!1,this.editObj={room_name:"",num_chair:"",num_table:"",building_id:"",floor:"",approvement:!1}},checkNumber:function(t){var e=window.checkNumber(t);e||t.preventDefault()},delete_room:function(t){var e=this;this.$swal({title:this.$t("delete_room_title"),text:this.$t("delete_text"),type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:this.$t("cancel"),confirmButtonText:this.$t("confirm_delete"),showLoaderOnConfirm:!0,preConfirm:function(){return o["a"].postData("/delete_room",{room_id:t.room_id}).then(function(t){return t})}}).then(function(t){t.value&&(t.value.code?e.$swal(e.$t("deleted_title"),"","success").then(function(t){e.getdata(),e.forceRerender(),e.initVal()}):e.$swal(t.value.message,"","error"))})},getdata:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o["a"].postData("/get_room",{});case 3:return e=t.sent,this.rooms=e.data,t.next=7,o["a"].postData("/building/getBuilding",{});case 7:e=t.sent,this.buildings=e.data,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),this.$swal(this.$t("error",t.t0.message,"error"));case 14:case"end":return t.stop()}},t,this,[[0,11]])}));return function(){return t.apply(this,arguments)}}(),forceRerender:function(){var t=this;this.renderComponent=!1,this.initVal(),this.$nextTick(function(){t.renderComponent=!0})},save:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.submitted=!0,console.table(this.editObj),this.isInvald){t.next=22;break}return this.submitted=!1,this.popupActive?this.$vs.loading({background:this.backgroundLoading,color:this.colorLoading,container:"#button-with-loading1",scale:.45}):this.$vs.loading({background:this.backgroundLoading,color:this.colorLoading,container:"#button-with-loading",scale:.45}),t.prev=5,t.next=8,o["a"].postData("/add_room",this.editObj);case 8:return t.sent,t.next=11,this.$swal(this.$t("success_title"),"","success");case 11:this.getdata(),this.forceRerender(),t.next=20;break;case 15:return t.prev=15,t.t0=t["catch"](5),console.log(t.t0),t.next=20,this.$swal("error",t.t0.message,"error");case 20:this.$vs.loading.close("#button-with-loading > .con-vs-loading"),this.popupActive=!1;case 22:case"end":return t.stop()}},t,this,[[5,15]])}));return function(){return t.apply(this,arguments)}}(),save_edit:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.submitted=!0,console.table(this.editObj),this.isInvald){t.next=26;break}return this.submitted=!1,this.popupActive?this.$vs.loading({background:this.backgroundLoading,color:this.colorLoading,container:"#button-with-loading1",scale:.45}):this.$vs.loading({background:this.backgroundLoading,color:this.colorLoading,container:"#button-with-loading",scale:.45}),t.prev=5,t.next=8,o["a"].postData("/update_room",this.editObj);case 8:return t.sent,this.popupActive=!1,t.next=12,this.$swal(this.$t("success_title"),"","success");case 12:this.getdata(),this.forceRerender(),t.next=26;break;case 16:return t.prev=16,t.t0=t["catch"](5),console.log(t.t0),this.editing=!0,this.$vs.loading.close("#button-with-loading1 > .con-vs-loading"),this.popupActive=!1,t.next=24,this.$swal("error",t.t0.message,"error");case 24:this.popupActive=!0,this.editing=!1;case 26:case"end":return t.stop()}},t,this,[[5,16]])}));return function(){return t.apply(this,arguments)}}()},watch:{popupActive:function(t){t||this.editing||(this.editObj={room_name:"",num_chair:"",num_table:""})}}}),d=c,u=(s("38d4"),s("2877")),v=Object(u["a"])(d,i,a,!1,null,"311c2e58",null);e["default"]=v.exports},"6d0d":function(t,e,s){}}]);
//# sourceMappingURL=chunk-280491b1.a49427c3.js.map