(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c6f8884"],{"06f6":function(t,e,n){},"542d":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.renderComponent?n("div",{staticClass:"vx-col w-full mb-base"},[n("vx-card",[n("h6",[t._v(t._s(t.$t("search_booking_history")))]),n("div",{staticClass:"mt-6 vx-row mb-6"},[n("div",{staticClass:"vx-col md:w-1/6",staticStyle:{"text-align":"right","padding-top":"3px"}},[n("label",[t._v(t._s(t.$t("start_datetime")))])]),n("div",{staticClass:"vx-col md:w-1/5"},[n("flat-pickr",{staticClass:"w-full",attrs:{config:t.configdateTimePicker,placeholder:"Choose time"},model:{value:t.editObj.start_date,callback:function(e){t.$set(t.editObj,"start_date",e)},expression:"editObj.start_date"}})],1),n("div",{staticClass:"vx-col md:w-1/6",staticStyle:{"text-align":"right","padding-top":"3px"}},[n("label",[t._v(t._s(t.$t("end_datetime")))])]),n("div",{staticClass:"vx-col md:w-1/5"},[n("flat-pickr",{staticClass:"w-full",attrs:{config:t.configdateTimePicker,placeholder:"Choose time"},model:{value:t.editObj.end_date,callback:function(e){t.$set(t.editObj,"end_date",e)},expression:"editObj.end_date"}})],1),n("div",{staticClass:"vx-col md:w-1/6"},[n("vs-button",{ref:"loadableButton",staticClass:"vs-con-loading__container right",attrs:{id:"button-with-loading",vslor:"primary"},on:{click:function(e){return t.search()}}},[t._v(t._s(t.$t("search")))])],1)])]),t.searched?n("vx-card",{staticClass:"mt-5"},[n("vs-table",{attrs:{pagination:"","max-items":"10",search:"",data:t.bookings},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.data;return t._l(a,function(e,a){return n("vs-tr",{key:a,attrs:{data:e}},[n("vs-td",{attrs:{data:e.booking_id}},[t._v("\n                        "+t._s(e.booking_id)+"\n                      ")]),n("vs-td",{attrs:{data:e.first_name+e.last_name,width:"200px"}},[t._v("\n                        "+t._s(e.first_name+" "+e.last_name)+"\n                      ")]),n("vs-td",{attrs:{data:e.room_name}},[t._v("\n                        "+t._s(e.room_name)+"\n                      ")]),n("vs-td",{attrs:{data:e.booking_description}},[t._v("\n                        "+t._s(e.booking_description)+"\n                      ")]),n("vs-td",{attrs:{data:e.start_date}},[t._v("\n                        "+t._s(t._f("formatDate")(e.start_date))+"\n                      ")]),n("vs-td",{attrs:{data:e.end_date}},[t._v("\n                        "+t._s(t._f("formatDate")(e.end_date))+"\n                      ")]),n("vs-td",{class:"A"+e.status_id,attrs:{data:e.status_name}},[t._v("\n                        "+t._s(t.$t(e.status_name))+"\n                      ")])],1)})}}],null,!1,3505560173)},[n("template",{slot:"thead"},[n("vs-th",{attrs:{"sort-key":"booking_id"}},[t._v(t._s(t.$t("booking_id")))]),n("vs-th",{attrs:{"sort-key":"first_name+last_name"}},[t._v(t._s(t.$t("first_surname")))]),n("vs-th",{attrs:{"sort-key":"room_name"}},[t._v(t._s(t.$t("room_name")))]),n("vs-th",{attrs:{"sort-key":"booking_description"}},[t._v(t._s(t.$t("booking_description")))]),n("vs-th",{attrs:{"sort-key":"start_date"}},[t._v(t._s(t.$t("start_date")))]),n("vs-th",{attrs:{"sort-key":"end_date"}},[t._v(t._s(t.$t("end_date")))]),n("vs-th",{attrs:{"sort-key":"status_name"}},[t._v(t._s(t.$t("status_name")))])],1)],2)],1):t._e()],1):t._e()},o=[],i=n("fa33"),s=n("67cf"),r=n("fbea"),c=n("c1df"),d=n.n(c),l=n("c38f"),u=n.n(l),_=(n("0952"),{components:{EditUser:r["a"],Datepicker:i["a"],flatPickr:u.a},data:function(){return{change_password:!1,renderComponent:!0,popupActive:!1,bookings:[],roles:[],searched:!1,submitted:!1,editObj:{start_date:d()().format("YYYY-MM-DD"),end_date:d()().format("YYYY-MM-DD")}}},computed:{invalid:function(){var t=this,e=function(e){return t.submitted&&""==t.editObj[e]};return{room_name:e("room_name"),num_chair:e("num_chair"),num_table:e("num_table")}},isInvald:function(){return this.invalid.room_name||this.invalid.num_chair||this.invalid.num_table}},created:function(){this.getdata(),this.initVal()},methods:{initVal:function(){this.submitted=!1,this.change_password=!1,popupActive=!1,this.editObj={room_name:"",num_chair:"",num_table:""}},delete_booking:function(t){var e=this;this.$swal({title:this.$t("delete_booking_title"),text:this.$t("delete_text"),type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:this.$t("cancel"),confirmButtonText:this.$t("confirm_delete"),showLoaderOnConfirm:!0,preConfirm:function(){return s["a"].postData("/delete_booking",{booking_id:t.booking_id}).then(function(t){return t})}}).then(function(t){t.value&&(t.value.code?e.$swal(e.$t("deleted_title"),"","success").then(function(t){e.getdata(),e.forceRerender(),e.initVal()}):e.$swal(t.value.message,"","error"))})},reject:function(t){var e=this;this.$swal({title:this.$t("reject_booking_title"),text:this.$t("reject_text"),type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:this.$t("cancel"),confirmButtonText:this.$t("confirm_delete"),showLoaderOnConfirm:!0,preConfirm:function(){return s["a"].postData("/reject",{booking_id:t.booking_id}).then(function(t){return t})}}).then(function(t){t.value&&(t.value.code?e.$swal(e.$t("rejected_title"),"","success").then(function(t){e.getdata(),e.forceRerender(),e.initVal()}):e.$swal(t.value.message,"","error"))})},approve:function(t){var e=this;this.$swal({title:this.$t("approve_booking_title"),text:this.$t("approve_text"),type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:this.$t("cancel"),confirmButtonText:this.$t("confirm_delete"),showLoaderOnConfirm:!0,preConfirm:function(){return s["a"].postData("/approve",{booking_id:t.booking_id}).then(function(t){return t})}}).then(function(t){t.value&&(t.value.code?e.$swal(e.$t("approved_title"),"","success").then(function(t){e.getdata(),e.forceRerender(),e.initVal()}):e.$swal(t.value.message,"","error"))})},getdata:function(){var t=this;s["a"].postData("/get_booked",{}).then(function(e){t.bookings=e.data})},search:function(){var t=this;this.$vs.loading({background:this.backgroundLoading,color:this.colorLoading,container:"#button-with-loading",scale:.45}),this.searched=!1;var e=this.editObj,n=e.start_date,a=e.end_date;n+=" 00:00:00",a+=" 23:59:59",s["a"].postData("get_booking_history",{start_date:n,end_date:a}).then(function(e){t.bookings=e.data,t.searched=!0,t.$vs.loading.close("#button-with-loading > .con-vs-loading")},function(e){t.searched=!0})},forceRerender:function(){var t=this;this.renderComponent=!1,this.$nextTick(function(){t.renderComponent=!0})},save:function(){var t=this;this.submitted=!0,this.isInvald||(this.popupActive?this.$vs.loading({background:this.backgroundLoading,color:this.colorLoading,container:"#button-with-loading1",scale:.45}):this.$vs.loading({background:this.backgroundLoading,color:this.colorLoading,container:"#button-with-loading",scale:.45}),s["a"].postData("/upsert_room",this.editObj).then(function(e){t.popupActive?t.$vs.loading.close("#button-with-loading1 > .con-vs-loading"):t.$vs.loading.close("#button-with-loading > .con-vs-loading"),t.popupActive=!1,t.$swal(t.$t("success_title"),"","success").then(function(e){t.getdata(),t.forceRerender()})},function(e){t.popupActive=!1}))}},watch:{popupActive:function(t){t||(this.editObj={room_name:"",num_chair:"",num_table:""})}}}),h=_,v=(n("d24f"),n("2877")),f=Object(v["a"])(h,a,o,!1,null,"520dcbae",null);e["default"]=f.exports},d24f:function(t,e,n){"use strict";var a=n("06f6"),o=n.n(a);o.a}}]);
//# sourceMappingURL=chunk-6c6f8884.12c6f587.js.map