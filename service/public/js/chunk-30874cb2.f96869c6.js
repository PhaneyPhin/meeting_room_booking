(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30874cb2"],{"54ac":function(t,n,e){"use strict";e.r(n);var o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.renderComponent?e("div",{staticClass:"vx-col w-full mb-base"},[e("vx-card",[e("vs-table",{attrs:{pagination:"","max-items":"10",search:"",data:t.bookings},scopedSlots:t._u([{key:"default",fn:function(n){var o=n.data;return t._l(o,function(n,o){return e("vs-tr",{key:o,attrs:{data:n}},[e("vs-td",{attrs:{data:n.booking_id}},[t._v("\n                        "+t._s(n.booking_id)+"\n                      ")]),e("vs-td",{attrs:{data:n.first_name+n.last_name,width:"200px"}},[t._v("\n                        "+t._s(n.first_name+" "+n.last_name)+"\n                      ")]),e("vs-td",{attrs:{data:n.room_name}},[t._v("\n                        "+t._s(n.room_name)+"\n                      ")]),e("vs-td",{attrs:{data:n.booking_description}},[t._v("\n                        "+t._s(n.booking_description)+"\n                      ")]),e("vs-td",{attrs:{data:n.start_date}},[t._v("\n                        "+t._s(t._f("formatDate")(n.start_date))+"\n                      ")]),e("vs-td",{attrs:{data:n.end_date}},[t._v("\n                        "+t._s(t._f("formatDate")(n.end_date))+"\n                      ")]),e("vs-td",[e("feather-icon",{staticClass:"cursor-pointer w-6 h-6 text-danger",attrs:{icon:"Trash2Icon",size:"small"},on:{click:function(e){return t.delete_booking(n)}}})],1)],1)})}}],null,!1,25458042)},[e("template",{slot:"thead"},[e("vs-th",{attrs:{"sort-key":"booking_id"}},[t._v(t._s(t.$t("booking_id")))]),e("vs-th",{attrs:{"sort-key":"first_name+last_name"}},[t._v(t._s(t.$t("first_surname")))]),e("vs-th",{attrs:{"sort-key":"room_name"}},[t._v(t._s(t.$t("room_name")))]),e("vs-th",{attrs:{"sort-key":"booking_description"}},[t._v(t._s(t.$t("booking_description")))]),e("vs-th",{attrs:{"sort-key":"start_date"}},[t._v(t._s(t.$t("start_date")))]),e("vs-th",{attrs:{"sort-key":"end_date"}},[t._v(t._s(t.$t("end_date")))]),e("vs-th",[t._v(t._s(t.$t("delete")))])],1)],2)],1)],1):t._e()},a=[],i=e("fa33"),s=e("67cf"),r=e("fbea"),c=(e("c1df"),{components:{EditUser:r["a"],Datepicker:i["a"]},data:function(){return{change_password:!1,renderComponent:!0,popupActive:!1,bookings:[],roles:[],submitted:!1,editObj:{}}},computed:{invalid:function(){var t=this,n=function(n){return t.submitted&&""==t.editObj[n]};return{room_name:n("room_name"),num_chair:n("num_chair"),num_table:n("num_table")}},isInvald:function(){return this.invalid.room_name||this.invalid.num_chair||this.invalid.num_table}},created:function(){this.getdata(),this.initVal()},methods:{initVal:function(){this.submitted=!1,this.change_password=!1,popupActive=!1,this.editObj={room_name:"",num_chair:"",num_table:""}},delete_booking:function(t){var n=this;this.$swal({title:this.$t("delete_booking_title"),text:this.$t("delete_text"),type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:this.$t("cancel"),confirmButtonText:this.$t("confirm_delete"),showLoaderOnConfirm:!0,preConfirm:function(){return s["a"].postData("/delete_booking",{booking_id:t.booking_id}).then(function(t){return t})}}).then(function(t){t.value&&(t.value.code?n.$swal(n.$t("deleted_title"),"","success").then(function(t){n.getdata(),n.forceRerender(),n.initVal()}):n.$swal(t.value.message,"","error"))})},reject:function(t){var n=this;this.$swal({title:this.$t("reject_booking_title"),text:this.$t("reject_text"),type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:this.$t("cancel"),confirmButtonText:this.$t("confirm_delete"),showLoaderOnConfirm:!0,preConfirm:function(){return s["a"].postData("/reject",{booking_id:t.booking_id}).then(function(t){return t})}}).then(function(t){t.value&&(t.value.code?n.$swal(n.$t("rejected_title"),"","success").then(function(t){n.getdata(),n.forceRerender(),n.initVal()}):n.$swal(t.value.message,"","error"))})},approve:function(t){var n=this;this.$swal({title:this.$t("approve_booking_title"),text:this.$t("approve_text"),type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:this.$t("cancel"),confirmButtonText:this.$t("confirm_delete"),showLoaderOnConfirm:!0,preConfirm:function(){return s["a"].postData("/approve",{booking_id:t.booking_id}).then(function(t){return t})}}).then(function(t){t.value&&(t.value.code?n.$swal(n.$t("approved_title"),"","success").then(function(t){n.getdata(),n.forceRerender(),n.initVal()}):n.$swal(t.value.message,"","error"))})},getdata:function(){var t=this,n=s["a"].getUser().user.username;s["a"].postData("/get_user_booking",{username:n}).then(function(n){t.bookings=n.data})},forceRerender:function(){var t=this;this.renderComponent=!1,this.$nextTick(function(){t.renderComponent=!0})},save:function(){var t=this;this.submitted=!0,this.isInvald||(this.popupActive?this.$vs.loading({background:this.backgroundLoading,color:this.colorLoading,container:"#button-with-loading1",scale:.45}):this.$vs.loading({background:this.backgroundLoading,color:this.colorLoading,container:"#button-with-loading",scale:.45}),s["a"].postData("/upsert_room",this.editObj).then(function(n){t.popupActive?t.$vs.loading.close("#button-with-loading1 > .con-vs-loading"):t.$vs.loading.close("#button-with-loading > .con-vs-loading"),t.popupActive=!1,t.$swal(t.$t("success_title"),"","success").then(function(n){t.getdata(),t.forceRerender()})},function(n){t.popupActive=!1}))}},watch:{popupActive:function(t){t||(this.editObj={room_name:"",num_chair:"",num_table:""})}}}),d=c,u=(e("a68d"),e("2877")),l=Object(u["a"])(d,o,a,!1,null,"1d9adcac",null);n["default"]=l.exports},"8ea6":function(t,n,e){},a68d:function(t,n,e){"use strict";var o=e("8ea6"),a=e.n(o);a.a}}]);
//# sourceMappingURL=chunk-30874cb2.f96869c6.js.map